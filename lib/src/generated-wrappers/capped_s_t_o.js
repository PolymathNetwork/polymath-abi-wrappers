"use strict";var __extends=this&&this.__extends||function(){var n=function(t,a){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var e in a)a.hasOwnProperty(e)&&(t[e]=a[e])})(t,a)};return function(t,a){function e(){this.constructor=t}n(t,a),t.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var a,e=1,n=arguments.length;e<n;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(r,c,o,i){return new(o||(o=Promise))(function(t,a){function e(t){try{s(i.next(t))}catch(t){a(t)}}function n(t){try{s(i.throw(t))}catch(t){a(t)}}function s(a){a.done?t(a.value):new o(function(t){t(a.value)}).then(e,n)}s((i=i.apply(r,c||[])).next())})},__generator=this&&this.__generator||function(e,n){var s,r,c,t,o={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return t={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function a(a){return function(t){return function(a){if(s)throw new TypeError("Generator is already executing.");for(;o;)try{if(s=1,r&&(c=2&a[0]?r.return:a[0]?r.throw||((c=r.return)&&c.call(r),0):r.next)&&!(c=c.call(r,a[1])).done)return c;switch(r=0,c&&(a=[2&a[0],c.value]),a[0]){case 0:case 1:c=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(c=0<(c=o.trys).length&&c[c.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3])){o.label=a[1];break}if(6===a[0]&&o.label<c[1]){o.label=c[1],c=a;break}if(c&&o.label<c[2]){o.label=c[2],o.ops.push(a);break}c[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(t){a=[6,t],r=0}finally{s=c=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,t])}}},__read=this&&this.__read||function(t,a){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var n,s,r=e.call(t),c=[];try{for(;(void 0===a||0<a--)&&!(n=r.next()).done;)c.push(n.value)}catch(t){s={error:t}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return c};Object.defineProperty(exports,"__esModule",{value:!0});var CappedSTOEvents,base_contract_1=require("@0x/base-contract"),utils_1=require("@0x/utils"),polyResponse_1=require("../polyResponse"),_=require("lodash");!function(t){t.TokenPurchase="TokenPurchase",t.SetAllowBeneficialInvestments="SetAllowBeneficialInvestments",t.SetFundRaiseTypes="SetFundRaiseTypes",t.Pause="Pause",t.Unpause="Unpause"}(CappedSTOEvents=exports.CappedSTOEvents||(exports.CappedSTOEvents={}));var CappedSTOContract=function(c){function t(t,a,e,n,s){var r=c.call(this,"CappedSTO",t,a,e,n)||this;return r.reclaimETH={sendTransactionAsync:function(u,b){return void 0===u&&(u={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i;return __generator(this,function(t){switch(t.label){case 0:return e=(a=this)._lookupAbi("reclaimETH()").inputs,base_contract_1.BaseContract._formatABIDataItemList(e,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(e,[]),n=a._lookupEthersInterface("reclaimETH()").functions.reclaimETH.encode([]),[4,a._web3Wrapper.getAvailableAddressesAsync()];case 1:return s=t.sent()[0],r=_.defaults(a._web3Wrapper.getContractDefaults(),{from:s}),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},u,{data:n}),r,a.reclaimETH.estimateGasAsync.bind(a,b))];case 2:return c=t.sent(),[4,a._web3Wrapper.sendTransactionAsync(c)];case 3:return o=t.sent(),i=a._web3Wrapper.awaitTransactionSuccessAsync(o),[2,new polyResponse_1.PolyResponse(o,i)]}})})},estimateGasAsync:function(d,l){return void 0===l&&(l={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u,b;return __generator(this,function(t){switch(t.label){case 0:return e=(a=this)._lookupAbi("reclaimETH()").inputs,base_contract_1.BaseContract._formatABIDataItemList(e,[],base_contract_1.BaseContract._bigNumberToString),n=a._lookupEthersInterface("reclaimETH()").functions.reclaimETH.encode([]),[4,a._web3Wrapper.getAvailableAddressesAsync()];case 1:return s=t.sent()[0],r=_.defaults(a._web3Wrapper.getContractDefaults(),{from:s}),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},l,{data:n}),r)];case 2:return c=t.sent(),[4,a._web3Wrapper.estimateGasAsync(c)];case 3:return o=t.sent(),[4,a._web3Wrapper.getBlockWithTransactionDataAsync("latest")];case 4:return i=t.sent().gasLimit,u=_.isUndefined(d)?a._defaultEstimateGasFactor:d,b=Math.round(u*o),[2,i<b?i:b]}})})},getABIEncodedTransactionData:function(){var t=this._lookupAbi("reclaimETH()").inputs;return base_contract_1.BaseContract._formatABIDataItemList(t,[],base_contract_1.BaseContract._bigNumberToString),this._lookupEthersInterface("reclaimETH()").functions.reclaimETH.encode([])},callAsync:function(b,d){return void 0===b&&(b={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return e="reclaimETH()",n=(a=this)._lookupAbi(e).inputs,base_contract_1.BaseContract._formatABIDataItemList(n,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[]),s=a._lookupEthersInterface(e).functions.reclaimETH,r=s.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},b,{data:r}),a._web3Wrapper.getContractDefaults())];case 1:return c=t.sent(),[4,a._web3Wrapper.callAsync(c,d)];case 2:return o=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(o),i=s.decode(o),u=_.find(a.abi,{name:"reclaimETH"}).outputs,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._bnToBigNumber.bind(this))]}})})}},r.rate={callAsync:function(u,b){return void 0===u&&(u={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i;return __generator(this,function(t){switch(t.label){case 0:return"rate()",e=(a=this)._lookupAbi("rate()").inputs,base_contract_1.BaseContract._formatABIDataItemList(e,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(e,[]),n=a._lookupEthersInterface("rate()").functions.rate,s=n.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},u,{data:s}),a._web3Wrapper.getContractDefaults())];case 1:return r=t.sent(),[4,a._web3Wrapper.callAsync(r,b)];case 2:return c=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(c),o=n.decode(c),i=_.find(a.abi,{name:"rate"}).outputs,o=base_contract_1.BaseContract._formatABIDataItemList(i,o,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(o=base_contract_1.BaseContract._formatABIDataItemList(i,o,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.allowBeneficialInvestments={callAsync:function(b,d){return void 0===b&&(b={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return e="allowBeneficialInvestments()",n=(a=this)._lookupAbi(e).inputs,base_contract_1.BaseContract._formatABIDataItemList(n,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[]),s=a._lookupEthersInterface(e).functions.allowBeneficialInvestments,r=s.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},b,{data:r}),a._web3Wrapper.getContractDefaults())];case 1:return c=t.sent(),[4,a._web3Wrapper.callAsync(c,d)];case 2:return o=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(o),i=s.decode(o),u=_.find(a.abi,{name:"allowBeneficialInvestments"}).outputs,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.endTime={callAsync:function(b,d){return void 0===b&&(b={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return e="endTime()",n=(a=this)._lookupAbi(e).inputs,base_contract_1.BaseContract._formatABIDataItemList(n,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[]),s=a._lookupEthersInterface(e).functions.endTime,r=s.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},b,{data:r}),a._web3Wrapper.getContractDefaults())];case 1:return c=t.sent(),[4,a._web3Wrapper.callAsync(c,d)];case 2:return o=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(o),i=s.decode(o),u=_.find(a.abi,{name:"endTime"}).outputs,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.cap={callAsync:function(u,b){return void 0===u&&(u={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i;return __generator(this,function(t){switch(t.label){case 0:return"cap()",e=(a=this)._lookupAbi("cap()").inputs,base_contract_1.BaseContract._formatABIDataItemList(e,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(e,[]),n=a._lookupEthersInterface("cap()").functions.cap,s=n.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},u,{data:s}),a._web3Wrapper.getContractDefaults())];case 1:return r=t.sent(),[4,a._web3Wrapper.callAsync(r,b)];case 2:return c=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(c),o=n.decode(c),i=_.find(a.abi,{name:"cap"}).outputs,o=base_contract_1.BaseContract._formatABIDataItemList(i,o,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(o=base_contract_1.BaseContract._formatABIDataItemList(i,o,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.unpause={sendTransactionAsync:function(u,b){return void 0===u&&(u={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i;return __generator(this,function(t){switch(t.label){case 0:return e=(a=this)._lookupAbi("unpause()").inputs,base_contract_1.BaseContract._formatABIDataItemList(e,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(e,[]),n=a._lookupEthersInterface("unpause()").functions.unpause.encode([]),[4,a._web3Wrapper.getAvailableAddressesAsync()];case 1:return s=t.sent()[0],r=_.defaults(a._web3Wrapper.getContractDefaults(),{from:s}),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},u,{data:n}),r,a.unpause.estimateGasAsync.bind(a,b))];case 2:return c=t.sent(),[4,a._web3Wrapper.sendTransactionAsync(c)];case 3:return o=t.sent(),i=a._web3Wrapper.awaitTransactionSuccessAsync(o),[2,new polyResponse_1.PolyResponse(o,i)]}})})},estimateGasAsync:function(d,l){return void 0===l&&(l={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u,b;return __generator(this,function(t){switch(t.label){case 0:return e=(a=this)._lookupAbi("unpause()").inputs,base_contract_1.BaseContract._formatABIDataItemList(e,[],base_contract_1.BaseContract._bigNumberToString),n=a._lookupEthersInterface("unpause()").functions.unpause.encode([]),[4,a._web3Wrapper.getAvailableAddressesAsync()];case 1:return s=t.sent()[0],r=_.defaults(a._web3Wrapper.getContractDefaults(),{from:s}),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},l,{data:n}),r)];case 2:return c=t.sent(),[4,a._web3Wrapper.estimateGasAsync(c)];case 3:return o=t.sent(),[4,a._web3Wrapper.getBlockWithTransactionDataAsync("latest")];case 4:return i=t.sent().gasLimit,u=_.isUndefined(d)?a._defaultEstimateGasFactor:d,b=Math.round(u*o),[2,i<b?i:b]}})})},getABIEncodedTransactionData:function(){var t=this._lookupAbi("unpause()").inputs;return base_contract_1.BaseContract._formatABIDataItemList(t,[],base_contract_1.BaseContract._bigNumberToString),this._lookupEthersInterface("unpause()").functions.unpause.encode([])},callAsync:function(b,d){return void 0===b&&(b={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return e="unpause()",n=(a=this)._lookupAbi(e).inputs,base_contract_1.BaseContract._formatABIDataItemList(n,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[]),s=a._lookupEthersInterface(e).functions.unpause,r=s.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},b,{data:r}),a._web3Wrapper.getContractDefaults())];case 1:return c=t.sent(),[4,a._web3Wrapper.callAsync(c,d)];case 2:return o=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(o),i=s.decode(o),u=_.find(a.abi,{name:"unpause"}).outputs,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._bnToBigNumber.bind(this))]}})})}},r.wallet={callAsync:function(b,d){return void 0===b&&(b={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return e="wallet()",n=(a=this)._lookupAbi(e).inputs,base_contract_1.BaseContract._formatABIDataItemList(n,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[]),s=a._lookupEthersInterface(e).functions.wallet,r=s.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},b,{data:r}),a._web3Wrapper.getContractDefaults())];case 1:return c=t.sent(),[4,a._web3Wrapper.callAsync(c,d)];case 2:return o=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(o),i=s.decode(o),u=_.find(a.abi,{name:"wallet"}).outputs,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.paused={callAsync:function(b,d){return void 0===b&&(b={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return e="paused()",n=(a=this)._lookupAbi(e).inputs,base_contract_1.BaseContract._formatABIDataItemList(n,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[]),s=a._lookupEthersInterface(e).functions.paused,r=s.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},b,{data:r}),a._web3Wrapper.getContractDefaults())];case 1:return c=t.sent(),[4,a._web3Wrapper.callAsync(c,d)];case 2:return o=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(o),i=s.decode(o),u=_.find(a.abi,{name:"paused"}).outputs,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.takeFee={sendTransactionAsync:function(b,d,l){return void 0===d&&(d={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return n=(e=this)._lookupAbi("takeFee(uint256)").inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(n,[b],base_contract_1.BaseContract._bigNumberToString.bind(e)),1),b=a[0],base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[b]),s=e._lookupEthersInterface("takeFee(uint256)").functions.takeFee.encode([b]),[4,e._web3Wrapper.getAvailableAddressesAsync()];case 1:return r=t.sent()[0],c=_.defaults(e._web3Wrapper.getContractDefaults(),{from:r}),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},d,{data:s}),c,e.takeFee.estimateGasAsync.bind(e,b,l))];case 2:return o=t.sent(),[4,e._web3Wrapper.sendTransactionAsync(o)];case 3:return i=t.sent(),u=e._web3Wrapper.awaitTransactionSuccessAsync(i),[2,new polyResponse_1.PolyResponse(i,u)]}})})},estimateGasAsync:function(l,p,f){return void 0===f&&(f={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u,b,d;return __generator(this,function(t){switch(t.label){case 0:return n=(e=this)._lookupAbi("takeFee(uint256)").inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(n,[l],base_contract_1.BaseContract._bigNumberToString),1),l=a[0],s=e._lookupEthersInterface("takeFee(uint256)").functions.takeFee.encode([l]),[4,e._web3Wrapper.getAvailableAddressesAsync()];case 1:return r=t.sent()[0],c=_.defaults(e._web3Wrapper.getContractDefaults(),{from:r}),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},f,{data:s}),c)];case 2:return o=t.sent(),[4,e._web3Wrapper.estimateGasAsync(o)];case 3:return i=t.sent(),[4,e._web3Wrapper.getBlockWithTransactionDataAsync("latest")];case 4:return u=t.sent().gasLimit,b=_.isUndefined(p)?e._defaultEstimateGasFactor:p,d=Math.round(b*i),[2,u<d?u:d]}})})},getABIEncodedTransactionData:function(t){var a=this._lookupAbi("takeFee(uint256)").inputs;return t=__read(base_contract_1.BaseContract._formatABIDataItemList(a,[t],base_contract_1.BaseContract._bigNumberToString),1)[0],this._lookupEthersInterface("takeFee(uint256)").functions.takeFee.encode([t])},callAsync:function(d,l,p){return void 0===l&&(l={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u,b;return __generator(this,function(t){switch(t.label){case 0:return n="takeFee(uint256)",s=(e=this)._lookupAbi(n).inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(s,[d],base_contract_1.BaseContract._bigNumberToString.bind(e)),1),d=a[0],base_contract_1.BaseContract.strictArgumentEncodingCheck(s,[d]),r=e._lookupEthersInterface(n).functions.takeFee,c=r.encode([d]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},l,{data:c}),e._web3Wrapper.getContractDefaults())];case 1:return o=t.sent(),[4,e._web3Wrapper.callAsync(o,p)];case 2:return i=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(i),u=r.decode(i),b=_.find(e.abi,{name:"takeFee"}).outputs,u=base_contract_1.BaseContract._formatABIDataItemList(b,u,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(u=base_contract_1.BaseContract._formatABIDataItemList(b,u,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.totalTokensSold={callAsync:function(b,d){return void 0===b&&(b={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return e="totalTokensSold()",n=(a=this)._lookupAbi(e).inputs,base_contract_1.BaseContract._formatABIDataItemList(n,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[]),s=a._lookupEthersInterface(e).functions.totalTokensSold,r=s.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},b,{data:r}),a._web3Wrapper.getContractDefaults())];case 1:return c=t.sent(),[4,a._web3Wrapper.callAsync(c,d)];case 2:return o=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(o),i=s.decode(o),u=_.find(a.abi,{name:"totalTokensSold"}).outputs,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.investors={callAsync:function(d,l,p){return void 0===l&&(l={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u,b;return __generator(this,function(t){switch(t.label){case 0:return n="investors(address)",s=(e=this)._lookupAbi(n).inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(s,[d],base_contract_1.BaseContract._bigNumberToString.bind(e)),1),d=a[0],base_contract_1.BaseContract.strictArgumentEncodingCheck(s,[d]),r=e._lookupEthersInterface(n).functions.investors,c=r.encode([d]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},l,{data:c}),e._web3Wrapper.getContractDefaults())];case 1:return o=t.sent(),[4,e._web3Wrapper.callAsync(o,p)];case 2:return i=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(i),u=r.decode(i),b=_.find(e.abi,{name:"investors"}).outputs,u=base_contract_1.BaseContract._formatABIDataItemList(b,u,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(u=base_contract_1.BaseContract._formatABIDataItemList(b,u,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.polyToken={callAsync:function(b,d){return void 0===b&&(b={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return e="polyToken()",n=(a=this)._lookupAbi(e).inputs,base_contract_1.BaseContract._formatABIDataItemList(n,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[]),s=a._lookupEthersInterface(e).functions.polyToken,r=s.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},b,{data:r}),a._web3Wrapper.getContractDefaults())];case 1:return c=t.sent(),[4,a._web3Wrapper.callAsync(c,d)];case 2:return o=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(o),i=s.decode(o),u=_.find(a.abi,{name:"polyToken"}).outputs,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.startTime={callAsync:function(b,d){return void 0===b&&(b={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return e="startTime()",n=(a=this)._lookupAbi(e).inputs,base_contract_1.BaseContract._formatABIDataItemList(n,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[]),s=a._lookupEthersInterface(e).functions.startTime,r=s.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},b,{data:r}),a._web3Wrapper.getContractDefaults())];case 1:return c=t.sent(),[4,a._web3Wrapper.callAsync(c,d)];case 2:return o=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(o),i=s.decode(o),u=_.find(a.abi,{name:"startTime"}).outputs,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.pause={sendTransactionAsync:function(u,b){return void 0===u&&(u={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i;return __generator(this,function(t){switch(t.label){case 0:return e=(a=this)._lookupAbi("pause()").inputs,base_contract_1.BaseContract._formatABIDataItemList(e,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(e,[]),n=a._lookupEthersInterface("pause()").functions.pause.encode([]),[4,a._web3Wrapper.getAvailableAddressesAsync()];case 1:return s=t.sent()[0],r=_.defaults(a._web3Wrapper.getContractDefaults(),{from:s}),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},u,{data:n}),r,a.pause.estimateGasAsync.bind(a,b))];case 2:return c=t.sent(),[4,a._web3Wrapper.sendTransactionAsync(c)];case 3:return o=t.sent(),i=a._web3Wrapper.awaitTransactionSuccessAsync(o),[2,new polyResponse_1.PolyResponse(o,i)]}})})},estimateGasAsync:function(d,l){return void 0===l&&(l={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u,b;return __generator(this,function(t){switch(t.label){case 0:return e=(a=this)._lookupAbi("pause()").inputs,base_contract_1.BaseContract._formatABIDataItemList(e,[],base_contract_1.BaseContract._bigNumberToString),n=a._lookupEthersInterface("pause()").functions.pause.encode([]),[4,a._web3Wrapper.getAvailableAddressesAsync()];case 1:return s=t.sent()[0],r=_.defaults(a._web3Wrapper.getContractDefaults(),{from:s}),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},l,{data:n}),r)];case 2:return c=t.sent(),[4,a._web3Wrapper.estimateGasAsync(c)];case 3:return o=t.sent(),[4,a._web3Wrapper.getBlockWithTransactionDataAsync("latest")];case 4:return i=t.sent().gasLimit,u=_.isUndefined(d)?a._defaultEstimateGasFactor:d,b=Math.round(u*o),[2,i<b?i:b]}})})},getABIEncodedTransactionData:function(){var t=this._lookupAbi("pause()").inputs;return base_contract_1.BaseContract._formatABIDataItemList(t,[],base_contract_1.BaseContract._bigNumberToString),this._lookupEthersInterface("pause()").functions.pause.encode([])},callAsync:function(b,d){return void 0===b&&(b={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return e="pause()",n=(a=this)._lookupAbi(e).inputs,base_contract_1.BaseContract._formatABIDataItemList(n,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[]),s=a._lookupEthersInterface(e).functions.pause,r=s.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},b,{data:r}),a._web3Wrapper.getContractDefaults())];case 1:return c=t.sent(),[4,a._web3Wrapper.callAsync(c,d)];case 2:return o=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(o),i=s.decode(o),u=_.find(a.abi,{name:"pause"}).outputs,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._bnToBigNumber.bind(this))]}})})}},r.reclaimERC20={sendTransactionAsync:function(b,d,l){return void 0===d&&(d={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return n=(e=this)._lookupAbi("reclaimERC20(address)").inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(n,[b],base_contract_1.BaseContract._bigNumberToString.bind(e)),1),b=a[0],base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[b]),s=e._lookupEthersInterface("reclaimERC20(address)").functions.reclaimERC20.encode([b]),[4,e._web3Wrapper.getAvailableAddressesAsync()];case 1:return r=t.sent()[0],c=_.defaults(e._web3Wrapper.getContractDefaults(),{from:r}),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},d,{data:s}),c,e.reclaimERC20.estimateGasAsync.bind(e,b,l))];case 2:return o=t.sent(),[4,e._web3Wrapper.sendTransactionAsync(o)];case 3:return i=t.sent(),u=e._web3Wrapper.awaitTransactionSuccessAsync(i),[2,new polyResponse_1.PolyResponse(i,u)]}})})},estimateGasAsync:function(l,p,f){return void 0===f&&(f={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u,b,d;return __generator(this,function(t){switch(t.label){case 0:return n=(e=this)._lookupAbi("reclaimERC20(address)").inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(n,[l],base_contract_1.BaseContract._bigNumberToString),1),l=a[0],s=e._lookupEthersInterface("reclaimERC20(address)").functions.reclaimERC20.encode([l]),[4,e._web3Wrapper.getAvailableAddressesAsync()];case 1:return r=t.sent()[0],c=_.defaults(e._web3Wrapper.getContractDefaults(),{from:r}),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},f,{data:s}),c)];case 2:return o=t.sent(),[4,e._web3Wrapper.estimateGasAsync(o)];case 3:return i=t.sent(),[4,e._web3Wrapper.getBlockWithTransactionDataAsync("latest")];case 4:return u=t.sent().gasLimit,b=_.isUndefined(p)?e._defaultEstimateGasFactor:p,d=Math.round(b*i),[2,u<d?u:d]}})})},getABIEncodedTransactionData:function(t){var a=this._lookupAbi("reclaimERC20(address)").inputs;return t=__read(base_contract_1.BaseContract._formatABIDataItemList(a,[t],base_contract_1.BaseContract._bigNumberToString),1)[0],this._lookupEthersInterface("reclaimERC20(address)").functions.reclaimERC20.encode([t])},callAsync:function(d,l,p){return void 0===l&&(l={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u,b;return __generator(this,function(t){switch(t.label){case 0:return n="reclaimERC20(address)",s=(e=this)._lookupAbi(n).inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(s,[d],base_contract_1.BaseContract._bigNumberToString.bind(e)),1),d=a[0],base_contract_1.BaseContract.strictArgumentEncodingCheck(s,[d]),r=e._lookupEthersInterface(n).functions.reclaimERC20,c=r.encode([d]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},l,{data:c}),e._web3Wrapper.getContractDefaults())];case 1:return o=t.sent(),[4,e._web3Wrapper.callAsync(o,p)];case 2:return i=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(i),u=r.decode(i),b=_.find(e.abi,{name:"reclaimERC20"}).outputs,u=base_contract_1.BaseContract._formatABIDataItemList(b,u,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,u=base_contract_1.BaseContract._formatABIDataItemList(b,u,base_contract_1.BaseContract._bnToBigNumber.bind(this))]}})})}},r.getRaised={callAsync:function(d,l,p){return void 0===l&&(l={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u,b;return __generator(this,function(t){switch(t.label){case 0:return n="getRaised(uint8)",s=(e=this)._lookupAbi(n).inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(s,[d],base_contract_1.BaseContract._bigNumberToString.bind(e)),1),d=a[0],base_contract_1.BaseContract.strictArgumentEncodingCheck(s,[d]),r=e._lookupEthersInterface(n).functions.getRaised,c=r.encode([d]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},l,{data:c}),e._web3Wrapper.getContractDefaults())];case 1:return o=t.sent(),[4,e._web3Wrapper.callAsync(o,p)];case 2:return i=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(i),u=r.decode(i),b=_.find(e.abi,{name:"getRaised"}).outputs,u=base_contract_1.BaseContract._formatABIDataItemList(b,u,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(u=base_contract_1.BaseContract._formatABIDataItemList(b,u,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.pausedTime={callAsync:function(b,d){return void 0===b&&(b={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return e="pausedTime()",n=(a=this)._lookupAbi(e).inputs,base_contract_1.BaseContract._formatABIDataItemList(n,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[]),s=a._lookupEthersInterface(e).functions.pausedTime,r=s.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},b,{data:r}),a._web3Wrapper.getContractDefaults())];case 1:return c=t.sent(),[4,a._web3Wrapper.callAsync(c,d)];case 2:return o=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(o),i=s.decode(o),u=_.find(a.abi,{name:"pausedTime"}).outputs,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.securityToken={callAsync:function(b,d){return void 0===b&&(b={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return e="securityToken()",n=(a=this)._lookupAbi(e).inputs,base_contract_1.BaseContract._formatABIDataItemList(n,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[]),s=a._lookupEthersInterface(e).functions.securityToken,r=s.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},b,{data:r}),a._web3Wrapper.getContractDefaults())];case 1:return c=t.sent(),[4,a._web3Wrapper.callAsync(c,d)];case 2:return o=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(o),i=s.decode(o),u=_.find(a.abi,{name:"securityToken"}).outputs,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.factory={callAsync:function(b,d){return void 0===b&&(b={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return e="factory()",n=(a=this)._lookupAbi(e).inputs,base_contract_1.BaseContract._formatABIDataItemList(n,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[]),s=a._lookupEthersInterface(e).functions.factory,r=s.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},b,{data:r}),a._web3Wrapper.getContractDefaults())];case 1:return c=t.sent(),[4,a._web3Wrapper.callAsync(c,d)];case 2:return o=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(o),i=s.decode(o),u=_.find(a.abi,{name:"factory"}).outputs,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.fundsRaised={callAsync:function(d,l,p){return void 0===l&&(l={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u,b;return __generator(this,function(t){switch(t.label){case 0:return n="fundsRaised(uint8)",s=(e=this)._lookupAbi(n).inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(s,[d],base_contract_1.BaseContract._bigNumberToString.bind(e)),1),d=a[0],base_contract_1.BaseContract.strictArgumentEncodingCheck(s,[d]),r=e._lookupEthersInterface(n).functions.fundsRaised,c=r.encode([d]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},l,{data:c}),e._web3Wrapper.getContractDefaults())];case 1:return o=t.sent(),[4,e._web3Wrapper.callAsync(o,p)];case 2:return i=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(i),u=r.decode(i),b=_.find(e.abi,{name:"fundsRaised"}).outputs,u=base_contract_1.BaseContract._formatABIDataItemList(b,u,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(u=base_contract_1.BaseContract._formatABIDataItemList(b,u,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.fundRaiseTypes={callAsync:function(d,l,p){return void 0===l&&(l={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u,b;return __generator(this,function(t){switch(t.label){case 0:return n="fundRaiseTypes(uint8)",s=(e=this)._lookupAbi(n).inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(s,[d],base_contract_1.BaseContract._bigNumberToString.bind(e)),1),d=a[0],base_contract_1.BaseContract.strictArgumentEncodingCheck(s,[d]),r=e._lookupEthersInterface(n).functions.fundRaiseTypes,c=r.encode([d]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},l,{data:c}),e._web3Wrapper.getContractDefaults())];case 1:return o=t.sent(),[4,e._web3Wrapper.callAsync(o,p)];case 2:return i=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(i),u=r.decode(i),b=_.find(e.abi,{name:"fundRaiseTypes"}).outputs,u=base_contract_1.BaseContract._formatABIDataItemList(b,u,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(u=base_contract_1.BaseContract._formatABIDataItemList(b,u,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.FEE_ADMIN={callAsync:function(b,d){return void 0===b&&(b={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return e="FEE_ADMIN()",n=(a=this)._lookupAbi(e).inputs,base_contract_1.BaseContract._formatABIDataItemList(n,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[]),s=a._lookupEthersInterface(e).functions.FEE_ADMIN,r=s.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},b,{data:r}),a._web3Wrapper.getContractDefaults())];case 1:return c=t.sent(),[4,a._web3Wrapper.callAsync(c,d)];case 2:return o=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(o),i=s.decode(o),u=_.find(a.abi,{name:"FEE_ADMIN"}).outputs,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.investorCount={callAsync:function(b,d){return void 0===b&&(b={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return e="investorCount()",n=(a=this)._lookupAbi(e).inputs,base_contract_1.BaseContract._formatABIDataItemList(n,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[]),s=a._lookupEthersInterface(e).functions.investorCount,r=s.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},b,{data:r}),a._web3Wrapper.getContractDefaults())];case 1:return c=t.sent(),[4,a._web3Wrapper.callAsync(c,d)];case 2:return o=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(o),i=s.decode(o),u=_.find(a.abi,{name:"investorCount"}).outputs,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.configure={sendTransactionAsync:function(b,d,l,p,f,B,m,h){return void 0===m&&(m={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return n=(e=this)._lookupAbi("configure(uint256,uint256,uint256,uint256,uint8[],address)").inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(n,[b,d,l,p,f,B],base_contract_1.BaseContract._bigNumberToString.bind(e)),6),b=a[0],d=a[1],l=a[2],p=a[3],f=a[4],B=a[5],base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[b,d,l,p,f,B]),s=e._lookupEthersInterface("configure(uint256,uint256,uint256,uint256,uint8[],address)").functions.configure.encode([b,d,l,p,f,B]),[4,e._web3Wrapper.getAvailableAddressesAsync()];case 1:return r=t.sent()[0],c=_.defaults(e._web3Wrapper.getContractDefaults(),{from:r}),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},m,{data:s}),c,e.configure.estimateGasAsync.bind(e,b,d,l,p,f,B,h))];case 2:return o=t.sent(),[4,e._web3Wrapper.sendTransactionAsync(o)];case 3:return i=t.sent(),u=e._web3Wrapper.awaitTransactionSuccessAsync(i),[2,new polyResponse_1.PolyResponse(i,u)]}})})},estimateGasAsync:function(l,p,f,B,m,h,C,A){return void 0===A&&(A={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u,b,d;return __generator(this,function(t){switch(t.label){case 0:return n=(e=this)._lookupAbi("configure(uint256,uint256,uint256,uint256,uint8[],address)").inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(n,[l,p,f,B,m,h],base_contract_1.BaseContract._bigNumberToString),6),l=a[0],p=a[1],f=a[2],B=a[3],m=a[4],h=a[5],s=e._lookupEthersInterface("configure(uint256,uint256,uint256,uint256,uint8[],address)").functions.configure.encode([l,p,f,B,m,h]),[4,e._web3Wrapper.getAvailableAddressesAsync()];case 1:return r=t.sent()[0],c=_.defaults(e._web3Wrapper.getContractDefaults(),{from:r}),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},A,{data:s}),c)];case 2:return o=t.sent(),[4,e._web3Wrapper.estimateGasAsync(o)];case 3:return i=t.sent(),[4,e._web3Wrapper.getBlockWithTransactionDataAsync("latest")];case 4:return u=t.sent().gasLimit,b=_.isUndefined(C)?e._defaultEstimateGasFactor:C,d=Math.round(b*i),[2,u<d?u:d]}})})},getABIEncodedTransactionData:function(t,a,e,n,s,r){var c,o=this._lookupAbi("configure(uint256,uint256,uint256,uint256,uint8[],address)").inputs;return t=(c=__read(base_contract_1.BaseContract._formatABIDataItemList(o,[t,a,e,n,s,r],base_contract_1.BaseContract._bigNumberToString),6))[0],a=c[1],e=c[2],n=c[3],s=c[4],r=c[5],this._lookupEthersInterface("configure(uint256,uint256,uint256,uint256,uint8[],address)").functions.configure.encode([t,a,e,n,s,r])},callAsync:function(d,l,p,f,B,m,h,C){return void 0===h&&(h={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u,b;return __generator(this,function(t){switch(t.label){case 0:return n="configure(uint256,uint256,uint256,uint256,uint8[],address)",s=(e=this)._lookupAbi(n).inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(s,[d,l,p,f,B,m],base_contract_1.BaseContract._bigNumberToString.bind(e)),6),d=a[0],l=a[1],p=a[2],f=a[3],B=a[4],m=a[5],base_contract_1.BaseContract.strictArgumentEncodingCheck(s,[d,l,p,f,B,m]),r=e._lookupEthersInterface(n).functions.configure,c=r.encode([d,l,p,f,B,m]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},h,{data:c}),e._web3Wrapper.getContractDefaults())];case 1:return o=t.sent(),[4,e._web3Wrapper.callAsync(o,C)];case 2:return i=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(i),u=r.decode(i),b=_.find(e.abi,{name:"configure"}).outputs,u=base_contract_1.BaseContract._formatABIDataItemList(b,u,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,u=base_contract_1.BaseContract._formatABIDataItemList(b,u,base_contract_1.BaseContract._bnToBigNumber.bind(this))]}})})}},r.getInitFunction={callAsync:function(b,d){return void 0===b&&(b={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return e="getInitFunction()",n=(a=this)._lookupAbi(e).inputs,base_contract_1.BaseContract._formatABIDataItemList(n,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[]),s=a._lookupEthersInterface(e).functions.getInitFunction,r=s.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},b,{data:r}),a._web3Wrapper.getContractDefaults())];case 1:return c=t.sent(),[4,a._web3Wrapper.callAsync(c,d)];case 2:return o=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(o),i=s.decode(o),u=_.find(a.abi,{name:"getInitFunction"}).outputs,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.changeAllowBeneficialInvestments={sendTransactionAsync:function(b,d,l){return void 0===d&&(d={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return n=(e=this)._lookupAbi("changeAllowBeneficialInvestments(bool)").inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(n,[b],base_contract_1.BaseContract._bigNumberToString.bind(e)),1),b=a[0],base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[b]),s=e._lookupEthersInterface("changeAllowBeneficialInvestments(bool)").functions.changeAllowBeneficialInvestments.encode([b]),[4,e._web3Wrapper.getAvailableAddressesAsync()];case 1:return r=t.sent()[0],c=_.defaults(e._web3Wrapper.getContractDefaults(),{from:r}),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},d,{data:s}),c,e.changeAllowBeneficialInvestments.estimateGasAsync.bind(e,b,l))];case 2:return o=t.sent(),[4,e._web3Wrapper.sendTransactionAsync(o)];case 3:return i=t.sent(),u=e._web3Wrapper.awaitTransactionSuccessAsync(i),[2,new polyResponse_1.PolyResponse(i,u)]}})})},estimateGasAsync:function(l,p,f){return void 0===f&&(f={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u,b,d;return __generator(this,function(t){switch(t.label){case 0:return n=(e=this)._lookupAbi("changeAllowBeneficialInvestments(bool)").inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(n,[l],base_contract_1.BaseContract._bigNumberToString),1),l=a[0],s=e._lookupEthersInterface("changeAllowBeneficialInvestments(bool)").functions.changeAllowBeneficialInvestments.encode([l]),[4,e._web3Wrapper.getAvailableAddressesAsync()];case 1:return r=t.sent()[0],c=_.defaults(e._web3Wrapper.getContractDefaults(),{from:r}),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},f,{data:s}),c)];case 2:return o=t.sent(),[4,e._web3Wrapper.estimateGasAsync(o)];case 3:return i=t.sent(),[4,e._web3Wrapper.getBlockWithTransactionDataAsync("latest")];case 4:return u=t.sent().gasLimit,b=_.isUndefined(p)?e._defaultEstimateGasFactor:p,d=Math.round(b*i),[2,u<d?u:d]}})})},getABIEncodedTransactionData:function(t){var a=this._lookupAbi("changeAllowBeneficialInvestments(bool)").inputs;return t=__read(base_contract_1.BaseContract._formatABIDataItemList(a,[t],base_contract_1.BaseContract._bigNumberToString),1)[0],this._lookupEthersInterface("changeAllowBeneficialInvestments(bool)").functions.changeAllowBeneficialInvestments.encode([t])},callAsync:function(d,l,p){return void 0===l&&(l={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u,b;return __generator(this,function(t){switch(t.label){case 0:return n="changeAllowBeneficialInvestments(bool)",s=(e=this)._lookupAbi(n).inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(s,[d],base_contract_1.BaseContract._bigNumberToString.bind(e)),1),d=a[0],base_contract_1.BaseContract.strictArgumentEncodingCheck(s,[d]),r=e._lookupEthersInterface(n).functions.changeAllowBeneficialInvestments,c=r.encode([d]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},l,{data:c}),e._web3Wrapper.getContractDefaults())];case 1:return o=t.sent(),[4,e._web3Wrapper.callAsync(o,p)];case 2:return i=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(i),u=r.decode(i),b=_.find(e.abi,{name:"changeAllowBeneficialInvestments"}).outputs,u=base_contract_1.BaseContract._formatABIDataItemList(b,u,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,u=base_contract_1.BaseContract._formatABIDataItemList(b,u,base_contract_1.BaseContract._bnToBigNumber.bind(this))]}})})}},r.buyTokens={sendTransactionAsync:function(b,d,l){return void 0===d&&(d={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return n=(e=this)._lookupAbi("buyTokens(address)").inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(n,[b],base_contract_1.BaseContract._bigNumberToString.bind(e)),1),b=a[0],base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[b]),s=e._lookupEthersInterface("buyTokens(address)").functions.buyTokens.encode([b]),[4,e._web3Wrapper.getAvailableAddressesAsync()];case 1:return r=t.sent()[0],c=_.defaults(e._web3Wrapper.getContractDefaults(),{from:r}),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},d,{data:s}),c,e.buyTokens.estimateGasAsync.bind(e,b,l))];case 2:return o=t.sent(),[4,e._web3Wrapper.sendTransactionAsync(o)];case 3:return i=t.sent(),u=e._web3Wrapper.awaitTransactionSuccessAsync(i),[2,new polyResponse_1.PolyResponse(i,u)]}})})},estimateGasAsync:function(l,p,f){return void 0===f&&(f={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u,b,d;return __generator(this,function(t){switch(t.label){case 0:return n=(e=this)._lookupAbi("buyTokens(address)").inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(n,[l],base_contract_1.BaseContract._bigNumberToString),1),l=a[0],s=e._lookupEthersInterface("buyTokens(address)").functions.buyTokens.encode([l]),[4,e._web3Wrapper.getAvailableAddressesAsync()];case 1:return r=t.sent()[0],c=_.defaults(e._web3Wrapper.getContractDefaults(),{from:r}),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},f,{data:s}),c)];case 2:return o=t.sent(),[4,e._web3Wrapper.estimateGasAsync(o)];case 3:return i=t.sent(),[4,e._web3Wrapper.getBlockWithTransactionDataAsync("latest")];case 4:return u=t.sent().gasLimit,b=_.isUndefined(p)?e._defaultEstimateGasFactor:p,d=Math.round(b*i),[2,u<d?u:d]}})})},getABIEncodedTransactionData:function(t){var a=this._lookupAbi("buyTokens(address)").inputs;return t=__read(base_contract_1.BaseContract._formatABIDataItemList(a,[t],base_contract_1.BaseContract._bigNumberToString),1)[0],this._lookupEthersInterface("buyTokens(address)").functions.buyTokens.encode([t])},callAsync:function(d,l,p){return void 0===l&&(l={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u,b;return __generator(this,function(t){switch(t.label){case 0:return n="buyTokens(address)",s=(e=this)._lookupAbi(n).inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(s,[d],base_contract_1.BaseContract._bigNumberToString.bind(e)),1),d=a[0],base_contract_1.BaseContract.strictArgumentEncodingCheck(s,[d]),r=e._lookupEthersInterface(n).functions.buyTokens,c=r.encode([d]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},l,{data:c}),e._web3Wrapper.getContractDefaults())];case 1:return o=t.sent(),[4,e._web3Wrapper.callAsync(o,p)];case 2:return i=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(i),u=r.decode(i),b=_.find(e.abi,{name:"buyTokens"}).outputs,u=base_contract_1.BaseContract._formatABIDataItemList(b,u,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,u=base_contract_1.BaseContract._formatABIDataItemList(b,u,base_contract_1.BaseContract._bnToBigNumber.bind(this))]}})})}},r.buyTokensWithPoly={sendTransactionAsync:function(b,d,l){return void 0===d&&(d={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return n=(e=this)._lookupAbi("buyTokensWithPoly(uint256)").inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(n,[b],base_contract_1.BaseContract._bigNumberToString.bind(e)),1),b=a[0],base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[b]),s=e._lookupEthersInterface("buyTokensWithPoly(uint256)").functions.buyTokensWithPoly.encode([b]),[4,e._web3Wrapper.getAvailableAddressesAsync()];case 1:return r=t.sent()[0],c=_.defaults(e._web3Wrapper.getContractDefaults(),{from:r}),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},d,{data:s}),c,e.buyTokensWithPoly.estimateGasAsync.bind(e,b,l))];case 2:return o=t.sent(),[4,e._web3Wrapper.sendTransactionAsync(o)];case 3:return i=t.sent(),u=e._web3Wrapper.awaitTransactionSuccessAsync(i),[2,new polyResponse_1.PolyResponse(i,u)]}})})},estimateGasAsync:function(l,p,f){return void 0===f&&(f={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u,b,d;return __generator(this,function(t){switch(t.label){case 0:return n=(e=this)._lookupAbi("buyTokensWithPoly(uint256)").inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(n,[l],base_contract_1.BaseContract._bigNumberToString),1),l=a[0],s=e._lookupEthersInterface("buyTokensWithPoly(uint256)").functions.buyTokensWithPoly.encode([l]),[4,e._web3Wrapper.getAvailableAddressesAsync()];case 1:return r=t.sent()[0],c=_.defaults(e._web3Wrapper.getContractDefaults(),{from:r}),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},f,{data:s}),c)];case 2:return o=t.sent(),[4,e._web3Wrapper.estimateGasAsync(o)];case 3:return i=t.sent(),[4,e._web3Wrapper.getBlockWithTransactionDataAsync("latest")];case 4:return u=t.sent().gasLimit,b=_.isUndefined(p)?e._defaultEstimateGasFactor:p,d=Math.round(b*i),[2,u<d?u:d]}})})},getABIEncodedTransactionData:function(t){var a=this._lookupAbi("buyTokensWithPoly(uint256)").inputs;return t=__read(base_contract_1.BaseContract._formatABIDataItemList(a,[t],base_contract_1.BaseContract._bigNumberToString),1)[0],this._lookupEthersInterface("buyTokensWithPoly(uint256)").functions.buyTokensWithPoly.encode([t])},callAsync:function(d,l,p){return void 0===l&&(l={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u,b;return __generator(this,function(t){switch(t.label){case 0:return n="buyTokensWithPoly(uint256)",s=(e=this)._lookupAbi(n).inputs,a=__read(base_contract_1.BaseContract._formatABIDataItemList(s,[d],base_contract_1.BaseContract._bigNumberToString.bind(e)),1),d=a[0],base_contract_1.BaseContract.strictArgumentEncodingCheck(s,[d]),r=e._lookupEthersInterface(n).functions.buyTokensWithPoly,c=r.encode([d]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:e.address},l,{data:c}),e._web3Wrapper.getContractDefaults())];case 1:return o=t.sent(),[4,e._web3Wrapper.callAsync(o,p)];case 2:return i=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(i),u=r.decode(i),b=_.find(e.abi,{name:"buyTokensWithPoly"}).outputs,u=base_contract_1.BaseContract._formatABIDataItemList(b,u,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,u=base_contract_1.BaseContract._formatABIDataItemList(b,u,base_contract_1.BaseContract._bnToBigNumber.bind(this))]}})})}},r.capReached={callAsync:function(b,d){return void 0===b&&(b={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return e="capReached()",n=(a=this)._lookupAbi(e).inputs,base_contract_1.BaseContract._formatABIDataItemList(n,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[]),s=a._lookupEthersInterface(e).functions.capReached,r=s.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},b,{data:r}),a._web3Wrapper.getContractDefaults())];case 1:return c=t.sent(),[4,a._web3Wrapper.callAsync(c,d)];case 2:return o=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(o),i=s.decode(o),u=_.find(a.abi,{name:"capReached"}).outputs,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.getTokensSold={callAsync:function(b,d){return void 0===b&&(b={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return e="getTokensSold()",n=(a=this)._lookupAbi(e).inputs,base_contract_1.BaseContract._formatABIDataItemList(n,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[]),s=a._lookupEthersInterface(e).functions.getTokensSold,r=s.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},b,{data:r}),a._web3Wrapper.getContractDefaults())];case 1:return c=t.sent(),[4,a._web3Wrapper.callAsync(c,d)];case 2:return o=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(o),i=s.decode(o),u=_.find(a.abi,{name:"getTokensSold"}).outputs,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.getPermissions={callAsync:function(b,d){return void 0===b&&(b={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return e="getPermissions()",n=(a=this)._lookupAbi(e).inputs,base_contract_1.BaseContract._formatABIDataItemList(n,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[]),s=a._lookupEthersInterface(e).functions.getPermissions,r=s.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},b,{data:r}),a._web3Wrapper.getContractDefaults())];case 1:return c=t.sent(),[4,a._web3Wrapper.callAsync(c,d)];case 2:return o=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(o),i=s.decode(o),u=_.find(a.abi,{name:"getPermissions"}).outputs,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,(i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._bnToBigNumber.bind(this)))[0]]}})})}},r.getSTODetails={callAsync:function(b,d){return void 0===b&&(b={}),__awaiter(this,void 0,void 0,function(){var a,e,n,s,r,c,o,i,u;return __generator(this,function(t){switch(t.label){case 0:return e="getSTODetails()",n=(a=this)._lookupAbi(e).inputs,base_contract_1.BaseContract._formatABIDataItemList(n,[],base_contract_1.BaseContract._bigNumberToString.bind(a)),base_contract_1.BaseContract.strictArgumentEncodingCheck(n,[]),s=a._lookupEthersInterface(e).functions.getSTODetails,r=s.encode([]),[4,base_contract_1.BaseContract._applyDefaultsToTxDataAsync(__assign({to:a.address},b,{data:r}),a._web3Wrapper.getContractDefaults())];case 1:return c=t.sent(),[4,a._web3Wrapper.callAsync(c,d)];case 2:return o=t.sent(),base_contract_1.BaseContract._throwIfRevertWithReasonCallResult(o),i=s.decode(o),u=_.find(a.abi,{name:"getSTODetails"}).outputs,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._lowercaseAddress.bind(this)),[2,i=base_contract_1.BaseContract._formatABIDataItemList(u,i,base_contract_1.BaseContract._bnToBigNumber.bind(this))]}})})}},r._defaultEstimateGasFactor=_.isUndefined(s)?1.1:s,r._web3Wrapper.abiDecoder.addABI(t),utils_1.classUtils.bindAll(r,["_ethersInterfacesByFunctionSignature","address","abi","_web3Wrapper","_defaultEstimateGasFactor"]),r}return __extends(t,c),t}(base_contract_1.BaseContract);exports.CappedSTOContract=CappedSTOContract;